<div class="container">
  <mat-card class="form-card">
    <mat-card-header>
      <mat-card-title>
        User Registration Form
      </mat-card-title>
      <div class="header-actions">
        <button
          mat-button
          type="button"
          (click)="clearForm()"
          [disabled]="isSubmitting"
        >
          <mat-icon>clear</mat-icon>
        </button>
      </div>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="form">
        <!-- First Name Field -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>First Name</mat-label>
          <input
            matInput
            formControlName="firstName"
          />
     
          <mat-error *ngIf="userForm.get('firstName')?.hasError('required')">
            First name is required
          </mat-error>
          <mat-error *ngIf="userForm.get('firstName')?.hasError('minlength')">
            First name must be at least 2 characters
          </mat-error>
          <mat-error *ngIf="userForm.get('firstName')?.hasError('pattern')">
            First name can only contain letters
          </mat-error>
        </mat-form-field>

        <!-- Last Name Field -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Last Name</mat-label>
          <input
            matInput
            formControlName="lastName"
          />
  
          <mat-error *ngIf="userForm.get('lastName')?.hasError('required')">
            Last name is required
          </mat-error>
          <mat-error *ngIf="userForm.get('lastName')?.hasError('minlength')">
            Last name must be at least 2 characters
          </mat-error>
          <mat-error *ngIf="userForm.get('lastName')?.hasError('pattern')">
            Last name can only contain letters
          </mat-error>
        </mat-form-field>

        <!-- Email Field -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Email</mat-label>
          <input
            matInput
            type="email"
            formControlName="email"
          />
 
          <mat-error *ngIf="userForm.get('email')?.hasError('required')">
            Email is required
          </mat-error>
          <mat-error *ngIf="userForm.get('email')?.hasError('email')">
            Please enter a valid email address
          </mat-error>
        </mat-form-field>

        <!-- Phone Field -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Phone Number</mat-label>
          <input
            matInput
            formControlName="phone"
          />

          <mat-error *ngIf="userForm.get('phone')?.hasError('required')">
            Phone number is required
          </mat-error>
          <mat-error *ngIf="userForm.get('phone')?.hasError('pattern')">
            Please enter a valid phone number (10 digits)
          </mat-error>
        </mat-form-field>

        <!-- Age Field -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Age</mat-label>
          <input
            matInput
            type="number"
            formControlName="age"
          />
   
          <mat-error *ngIf="userForm.get('age')?.hasError('required')">
            Age is required
          </mat-error>
          <mat-error *ngIf="userForm.get('age')?.hasError('min')">
            Age must be at least 18
          </mat-error>
          <mat-error *ngIf="userForm.get('age')?.hasError('max')">
            Age must be less than 100
          </mat-error>
        </mat-form-field>

        <!-- Country Field -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Country</mat-label>
          <mat-select formControlName="country" placeholder="Select a country">
            <mat-option value="">Select a country</mat-option>
            <mat-option value="us">United States</mat-option>
            <mat-option value="ca">Canada</mat-option>
            <mat-option value="uk">United Kingdom</mat-option>
            <mat-option value="au">Australia</mat-option>
            <mat-option value="de">Germany</mat-option>
            <mat-option value="fr">France</mat-option>
            <mat-option value="jp">Japan</mat-option>
            <mat-option value="in">India</mat-option>
          </mat-select>

          <mat-error *ngIf="userForm.get('country')?.hasError('required')">
            Please select a country
          </mat-error>
        </mat-form-field>

        <!-- Password Field -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Password</mat-label>
          <input
            matInput
            [type]="hidePassword ? 'password' : 'text'"
            formControlName="password"
          />
          <button
            mat-icon-button
            matSuffix
            (click)="hidePassword = !hidePassword"
            type="button"
          >
            <mat-icon>{{
              hidePassword ? "visibility_off" : "visibility"
            }}</mat-icon>
          </button>
          <mat-error *ngIf="userForm.get('password')?.hasError('required')">
            Password is required
          </mat-error>
          <mat-error *ngIf="userForm.get('password')?.hasError('minlength')">
            Password must be at least 8 characters
          </mat-error>
          <mat-error *ngIf="userForm.get('password')?.hasError('pattern')">
            Password must contain at least one uppercase, lowercase, number and
            special character
          </mat-error>
        </mat-form-field>

        <!-- Confirm Password Field -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Confirm Password</mat-label>
          <input
            matInput
            [type]="hideConfirmPassword ? 'password' : 'text'"
            formControlName="confirmPassword"
          />
          <button
            mat-icon-button
            matSuffix
            (click)="hideConfirmPassword = !hideConfirmPassword"
            type="button"
          >
            <mat-icon>{{
              hideConfirmPassword ? "visibility_off" : "visibility"
            }}</mat-icon>
          </button>
          <mat-error
            *ngIf="userForm.get('confirmPassword')?.hasError('required')"
          >
            Please confirm your password
          </mat-error>
          <mat-error
            *ngIf="
              userForm.get('confirmPassword')?.hasError('passwordMismatch')
            "
          >
            Passwords do not match
          </mat-error>
        </mat-form-field>

        <!-- Terms and Conditions -->
        <div class="checkbox-container">
          <mat-checkbox formControlName="agreeToTerms">
            I agree to the <a href="#" target="_blank">Terms and Conditions</a>
          </mat-checkbox>
          <div
            class="error-text"
            *ngIf="
              userForm.get('agreeToTerms')?.hasError('required') &&
              userForm.get('agreeToTerms')?.touched
            "
          >
            You must agree to the terms and conditions
          </div>
        </div>
        <!-- Form Actions -->
        <div class="form-actions">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="userForm.invalid || isSubmitting"
          >
            {{ isSubmitting ? "Submitting..." : "Submit" }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
